function [Y,Xf,Af] = Predict_yield_indclc(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 09-Jul-2017 16:10:13.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 74xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74];
x1_step2.xoffset = [539;538;538;551;547;546;544;545;543;548;547;544;542;540;539;538;537;537;537;538;538;537;537;550;545;541;539;539;541;539;537;535;545;545;560;558;553;547;542;538;536;535;536;561;563;562;559;555;551;547;547;542;537;534;531;535;532;538;546;557;569;567;563;561;560;556;552;565;570;574;570;571];
x1_step2.gain = [0.0408163265306122;0.0425531914893617;0.0408163265306122;0.0434782608695652;0.0434782608695652;0.0303030303030303;0.0289855072463768;0.0224719101123596;0.0232558139534884;0.0253164556962025;0.0256410256410256;0.025;0.025;0.02;0.0206185567010309;0.0186915887850467;0.0194174757281553;0.0198019801980198;0.0204081632653061;0.0210526315789474;0.0196078431372549;0.0204081632653061;0.0212765957446809;0.0208333333333333;0.0208333333333333;0.0210526315789474;0.021978021978022;0.0204081632653061;0.0210526315789474;0.021978021978022;0.0224719101123596;0.0198019801980198;0.0208333333333333;0.0208333333333333;0.016260162601626;0.0166666666666667;0.0168067226890756;0.0166666666666667;0.0166666666666667;0.0169491525423729;0.0173913043478261;0.0152671755725191;0.0155038759689922;0.0158730158730159;0.0158730158730159;0.0158730158730159;0.0158730158730159;0.015748031496063;0.013986013986014;0.013986013986014;0.013986013986014;0.013986013986014;0.013986013986014;0.0141843971631206;0.0142857142857143;0.0119047619047619;0.0120481927710843;0.0121951219512195;0.0121951219512195;0.0122699386503067;0.0123456790123457;0.0123456790123457;0.0123456790123457;0.0122699386503067;0.0123456790123457;0.0122699386503067;0.0122699386503067;0.0122699386503067;0.0123456790123457;0.0123456790123457;0.0123456790123457;0.0123456790123457];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.6445448356213523;0.12333874265441985;-1.0423166940028785;0.25090312847587271;-0.4740628248086895;-0.95298927022049784;0.17594573623621557;0.99023989175578342;-1.0586858401373256;2.7642027214085823];
IW1_1 = [0.38302584489176161 0.26676273793851429 0.22094451686563676 0.38447164476337553 0.2591529581123197 0.0087159784862865866 0.4925169083821232 0.14281966913219513 -0.41880809724563423 0.13266979730380135 0.03587091062654215 -0.17693573213576697 -0.033652076076619693 0.88689051183356138 0.40832845008785196 0.66566355084868301 0.58199755683257559 -0.74473099642027607 -0.61495932046684776 -0.18300372186783709 -0.21483624592599976 -0.4018505455713714 0.14957646048835915 -0.015063925155696786 0.11972517445583729 0.1844503089785067 0.57407161114879879 0.30649096031327572 -0.038791277289827876 0.031247924884337825 -0.071152380308992971 0.28236491859129276 -0.06019047333588997 -0.024359831637241706 -0.23015341896964153 -0.069914667299692368 0.020187051251484709 -0.38342015097596344 0.05712712060480591 -0.16993395119272192 0.38176592371872997 0.072391183936813513 0.5854036653680047 0.20132364583489498 0.34475349260113891 0.061241685514321569 0.10248184250436344 0.22441360044064845 0.1588720382912481 -0.022481719763777063 -0.31544538699933922 -0.1069171200717606 0.3386495335060129 0.38004742146063575 0.23107298908091661 -0.098085156402014151 0.23870957791686731 -0.23151645965369616 0.027209453593835566 0.088531824912198326 0.04549912027284047 0.00082118132945550914 0.21214270031639967 0.095909884918959173 0.034159773467378141 0.039621849200178874 0.28845703500856118 -0.24619262547520254 -0.1853829359853103 0.029849341098211125 0.16164230660774262 -0.23192101262253828;-0.17227825279352152 -0.13475738979956417 0.18054251764774326 -0.15693456613412901 -0.10432808786550148 -0.32666410493487846 -0.67619921874862421 0.090533837425696539 -0.044915652634889044 -0.67749265116694535 -0.65999729381669925 -0.56605016880780024 -1.0612025202610851 -0.93907214083573332 -0.51379365586620995 -0.76239491497125322 -0.16074155177478378 0.31551116182890016 0.20598764828635574 0.55408773881145912 -0.26567336226911692 0.033201610390221722 0.18764877301230379 0.26824969037531049 -0.090541317472769264 0.15597697878283195 0.18244865280066308 -0.16247192010748709 -0.20251391670954622 0.43209552080956282 0.19280428053879428 0.34327633966004573 0.95136577253093502 0.54132357975570589 0.031783990027771152 0.052902388747214174 -0.35008366894282444 -0.17400767038371917 0.16138092013346014 -0.25501423344797769 -0.10595432164137339 0.030677779079534083 -0.3530788726154197 0.0038497578892898775 -0.12095241039765635 0.090073970279467494 -0.036190632956984353 -0.24657587602206349 -0.15740973102317171 -0.077040422720307533 0.079903416591018794 -0.1959944603462658 -0.38364169054167852 -0.078436027865136565 0.068933644462419161 -0.12898558257049134 -0.1145083094415488 0.028777502332303251 -0.13672177582260964 -0.11013974496647654 0.36735362626296025 0.39824387140027245 0.21993951651690286 -0.022764035252663444 0.034334602311240046 0.45730445450759044 0.18280334630016074 0.38347449457269167 0.36148982651884926 0.012258321729326583 -0.10915525234275217 0.24224787219264743;0.1377207239174888 -0.053988300321426388 0.1676585398009984 0.44346845611022551 -0.014544707687615037 0.1165745319665263 -0.040570010644462556 0.1236842282593866 -0.0059748916439285506 -0.097104730350613913 0.31440180828925357 0.16405335133368312 0.038596896927374169 -0.092136988214560525 -0.24467414432208523 0.16111638827237626 0.048790236173192739 0.09222777171232209 -0.18332734741918744 -0.28496157788504511 0.18536189261556782 0.13947899581367595 -0.095315125069557805 -0.13359945693691055 -0.1944522706783739 0.25718558535524444 0.20820703530333531 0.14343953345035179 0.06150367283501855 -0.20248406368754709 -0.17253546010554197 -0.1189990757036176 0.37559093374490971 0.23770661094706844 0.42105247738468848 0.45995125622733979 0.30368395004672477 0.023887577385117386 0.33980323546553876 0.0085477520078424581 0.47711978834614288 -0.20263822890798056 0.15213442260855328 0.31161046057164482 0.49702893711661911 0.36527788773645398 0.10051990692008862 0.11821758303863364 -0.27244048668916171 0.18470434646631567 0.24555425946924275 0.12592889752232916 0.2124828681198295 0.092530281313515372 -0.013116814926097989 -0.17374303168686533 0.025555450253539433 0.13313128671999114 -0.056317236238947382 -0.1767351245696516 0.020484663037491191 -0.32166455383947862 0.034934298809906922 0.26021506496706898 -0.095575312833698925 -0.11257210405412675 0.14327466728560517 0.034947706509205617 -0.12519067835531225 -0.2053577027083614 0.14610823560966746 0.10400725413142624;-0.26992807149391063 -0.22592987049366953 -0.61758311284122502 -0.33137894768942527 -0.60901735753511432 0.86590666339946953 0.59917429702375502 -0.96528006116364196 -0.63520259566154369 0.33527241128999929 0.2641760053648548 0.37656586972554257 1.0346962627852738 -0.15745004764591289 0.39134288913134668 -0.15301174768545009 -0.48785114318616069 -0.21572995840625234 -0.38714128178132906 1.161443430860625 1.2576684156074014 1.7051758022645216 1.6607297371487595 -0.1008549605890354 -0.24845133952730813 -0.64017710260098937 -0.1582602146742248 0.34147022906371999 -0.3297245703726091 -0.70673838454754401 0.020711883874644867 -0.47566140515241739 -0.76083150015664436 -0.61341531165806307 0.21994872331811691 0.11174921686763541 0.37639534406715469 0.56980241468607162 0.75933171716463688 0.4605952964999116 0.6228804284439492 0.39836401223742984 0.39643944554089927 0.18466153427802467 0.24057225091482978 0.15148535744858849 0.26098465473455423 -0.20165986830341504 0.58215151230957718 -0.039383305312839803 -0.32094050349986875 -0.20321000919285301 -0.053830018841907024 -0.40377046093234764 -0.78591836317147989 0.0087967998969983221 0.1041212142423948 -0.41729569411089851 -0.32216152880544263 0.099252346489693097 -0.14467452087478433 -0.091958444832423519 0.40899007591822556 -0.42533938175918673 -0.36431734931333437 -0.20254136245646939 0.17196586363616381 -0.025826103008380331 -0.20867533829204135 -0.11876185744002657 -0.15861971184863072 0.16917696783478456;0.35370219732140024 0.27936717939602518 -0.26403106596344561 -0.71907039772337744 -0.64195591713145916 0.27905581400784513 -0.081687624896788921 0.54510080481366441 0.54881221972016425 0.077912614026431043 0.43739816297772638 0.63499097976708763 -0.036440703905050283 0.73619213469749811 0.15067899989709374 -0.07072900363974885 0.43102899110061377 -0.14555360930545674 0.11143065327151851 -0.23986290089323478 0.90004232236879023 0.66466131779118987 0.13424900950258403 0.14375742312936055 -0.020295658379338759 0.35094885976469159 -1.266794419147967 0.26431619334004808 0.80488587850142901 0.51945379043349582 0.7452921026731989 -0.3679830567468399 0.26436877944229148 0.21676866428588035 0.38408072357580691 1.1500957440649999 0.077524513723425476 0.20264886825311104 0.13302417692290705 0.93903981796863434 -0.023537721576911398 0.2909750117615385 -0.33035480414115198 0.133266682280925 -0.22154798007938081 -0.070000907977710927 -0.054783201582980896 0.48241788331150587 0.19524738369477407 0.14951470654428067 -0.026683156780658187 0.13478556135231726 -0.084763764709630943 0.059764393842149918 -0.10869684092173434 0.0057181448838198 -0.19655403112177569 0.13485249178279851 -0.048164531762064151 0.21440572666465901 -0.1737871312827671 -0.36621857299256821 -0.164173240235305 -0.061067172966376315 -0.047546316685160454 -0.1508967418239055 -0.077535070276851289 -0.14064782196383971 -0.20463528172295731 -0.11031449597168239 -0.09286517151106892 -0.040719099477922432;-0.32924806022959863 0.036150289205600511 -0.32016373066509463 0.76300285456980066 0.13556525469350994 -0.96790726316411979 1.0610748784439712 1.1414623835029543 0.087695341019742273 0.45367006771766472 -0.62849539577190516 -1.5006946796047436 0.15395210787678842 0.084170451088677586 0.43175997500103169 0.80025456446902354 -0.50860064279340778 -0.24872949057299823 -0.24699121735072987 0.084007423600821557 -0.90362426261203377 -0.76415500121105628 0.38562081961531847 0.20369286647259399 -0.3805159147947858 -1.4054013200693904 2.0906011500875117 -0.043501642690595421 -1.3453610605599136 0.62589016300419142 -0.62676643766923235 0.30757081194535979 -0.45772326771206756 0.98600280068976609 -0.83143434212562284 -0.83091171662394925 0.054543690800360069 0.55621385833010673 1.0973401296194629 -1.404489080366077 0.58142983199543097 -0.48846286201631728 0.4680728667318716 0.049483829277135703 0.39239955735244975 0.17272112389030556 0.033157648694977053 -0.72628642081484729 -0.73092995905258862 0.11603735131962692 -0.25943658548935056 0.55541248831200651 0.97657345525110784 0.30790009233112176 0.42024456347174777 -0.75835457606175161 0.19936662662464549 0.33051366792572168 -0.026669627069087074 0.35883728430851503 -0.95092176502946046 -0.26187760143763461 1.2898757518405441 0.3176999916043875 -0.81416368196588473 0.075712180582048746 -0.18539407163316013 -0.21668692061030351 0.14106202110305571 -0.20433546564453206 -0.11315708049875715 0.070679604350867287;-0.23060034559145712 -0.16818861208334113 -0.50384920050278803 -0.48718653573100629 -0.41387160672769996 -0.27362660777340836 -0.27615404137494037 -0.092950041624494786 -0.27892144069657604 0.11175719510010844 -0.29831866134522406 0.068309403967239835 -0.055593790891079353 0.10289280659227637 -0.043163223845860813 -0.15186488737691367 -0.42319661153883925 -0.5160848269597198 -0.18699756742670792 -0.44147581925935109 -0.43487954827149644 -0.61230479310280572 -0.47585869136870784 -0.17765093808834068 -0.67943909644514988 -0.35231708421918495 -0.096041717365077134 -0.084920778732597763 -0.20442938798783417 0.21838018819321198 -0.19230309990594341 -0.1874687630813146 -0.13539132931279207 0.10761262581811422 -0.30448458475163709 0.05311099446690918 0.23711039281737756 0.29552668646311864 0.19241746730484457 -0.16754431364104211 -0.073662507601023289 -0.026432051762920662 -0.081226055405598338 -0.10035597209909941 0.066425367121214676 -0.15028463148174212 -0.13314369118828026 0.22040617911413418 0.06095673779310562 0.074857413910546747 -0.32443652533697948 -0.24683082469960319 -0.33228234941038448 0.020451780421205844 0.089878788229746862 0.0040370225362955725 -0.055908486367055026 0.083910418703508877 -0.15038673340497444 -0.15286800163632278 -0.26686760197341658 0.11916623927851072 -0.17063130204379895 -0.053925044459877898 -0.05944730859043857 -0.065524106904513296 0.12606709636957225 -0.075952778047502639 -0.043757704298350013 -0.14141584434201582 -0.35007382145709381 -0.33904843148968195;-0.14776912889772267 -0.45146463297064771 -0.29533919033989997 -0.45906393801413048 -0.20089901315274972 -0.14619728982782251 0.056158718465522221 -0.1982258562847079 -0.27026941035202123 -0.30843642673730448 -0.40405908997769829 -0.52736580083437135 0.026034003319937032 -0.050326461166577734 -0.1335429805837143 -0.45277145420114229 -0.74785680321045866 0.34102767927606875 0.2933653764615059 -0.0051340899295020219 -0.011698725396967865 -0.050424036963275631 0.026740109159509827 -0.17606740674065144 -0.027949861959052469 0.03933331177913748 -0.1742244210910312 0.21648557073837332 -0.35684631794626465 0.034954220644396926 -0.070602123861699645 0.31063488793391003 0.0089083787417650294 -0.041123343562074546 -0.08251530829307116 0.33531906701262776 0.16802547177652238 0.05163709915572285 -0.073314093193107388 -0.27082150885333772 0.13559174976680702 -0.15077332519251008 -0.22615941159756908 -0.32708370304575712 -0.41825463579077427 -0.11966787689178912 -0.088286649863336619 -0.42401904841718785 -0.25208277804354345 -0.38577841787720041 -0.29975784252032672 -0.48522323147172869 -0.22831326834853738 -0.54388502567751229 -0.43890381966018888 0.089004450089451126 -0.28760108375340127 -0.39597987121767131 -0.038123853748198197 0.16047397977629563 -0.18358105036135153 -0.15257989096211533 -0.095801293413000005 -0.068489066811790303 -0.11763525672257115 -0.081508677387861689 -0.33087316743522482 -0.18131306625772692 -0.4094090483406797 -0.19702504648908326 0.056573109593189647 0.038894012052140742;-0.33761495782246337 -0.19823520702242192 0.056373582612503914 -0.20534614680389696 -0.27430561455779573 0.23037614139885434 -0.29383390817067939 0.40911032061920449 -0.03494503136812202 -0.12646389565571889 -0.30912524776185241 0.22056049851677076 -0.45967213249328082 -0.08421287258783404 -0.07243579703726967 -0.037693204885003488 0.71518208952574069 0.32185297421004316 0.0070875384058188664 -0.47504338070133978 -0.13281729083511579 -0.14106298004202861 -0.28738787603427401 -0.24499803007317505 -0.23920252862009622 0.47808858599088172 0.14889511158067553 0.71040006667086608 0.83488794740349648 -0.07471901272794898 -0.041800038830918235 -0.65714159036879183 -0.39631994521268094 -0.50114162260315387 0.17350552014160575 -0.012515683174842519 -0.49089003835219469 0.25016005720185025 0.0020674378419745371 -0.028032788376376658 -0.47348268250256542 0.4593865917427904 0.56046383780757758 0.58668597942142064 -0.27780019711714948 -0.026293459537716123 0.21478660332344487 0.25884510313619585 0.57750568698177773 0.50596863611935439 0.62269202816175828 0.44031228408707063 -0.069299008438529791 0.35428667829689503 0.10041243172324263 0.18678875400458686 0.27732915372970951 0.40117151013306024 0.10438140589055465 0.11497253526149658 -0.11968456632998949 -0.14660434186994667 -0.18108430197977732 -0.52074013874407132 0.10459321505821867 -0.54131739878297858 -0.22724217212597092 0.095774489016280814 -0.34323111380040427 -0.5629610479685403 -0.31625570273263803 -0.29993507079377135;0.71999061965180766 0.26478030796768565 -0.16260204622178084 -0.55492899484598679 0.10515832891545819 0.75035571198232087 -0.24534823061691302 0.024702292582626507 -0.50007376310932539 0.0095770885077151799 0.18272480368877039 0.019925852037658193 0.45687758334830675 0.098865485837071138 0.3094972188549201 0.22726812793549558 0.61529367494053899 0.033437707568931233 -0.1131856295947878 -0.4103548489809834 0.57087888860047575 0.73490281270341007 0.22116251994872713 -0.25691816186885691 0.2025039998221643 0.38697414517492806 -0.74327951659534486 0.55603361383824712 0.85468895504307751 0.068027443916314823 0.69945778752164001 -0.1578966514991961 -0.57871460252876639 -1.0179477363846599 0.14550630847498217 0.083578005033887973 -0.026423106334442583 -0.20567063945135336 -0.40977652926346153 0.66035040752454022 -0.14051115374639622 0.32161905328242463 0.014443780180584665 -0.025953169332304422 -0.22400046507198032 -0.10318212761888947 0.079026728455108691 0.17012233484634681 0.20098062148633536 0.32976368178574694 0.33358574942514568 0.21898324180899001 -0.22337122238829427 0.30923478511735225 -0.073338404701791593 0.38114146914866354 0.010133014089464621 -0.23364657044129528 0.029358409338346395 -0.20728458453390089 -0.22095790475522034 -0.9969137237866561 -0.15495924101050079 0.36481882298988505 -0.075464957679531403 -0.16937631877519679 0.083397016328703708 -0.020442109698570136 0.0051642610414790978 -0.13749617988021701 0.25908568914801455 0.22071325714950712];

% Layer 2
b2 = -1.2599145792298252;
LW2_1 = [-0.52463019352078388 0.1006148597987081 0.36434325891178276 -0.10000729999710599 -0.14179901004636367 -0.51502332915631532 0.14301217488069037 0.048386526769008648 0.17766814158548949 1.3555461953120884];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.000986193293885602;
y1_step1.xoffset = 3479;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
