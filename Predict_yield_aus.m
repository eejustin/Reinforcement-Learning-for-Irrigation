function [Y,Xf,Af] = Predict_yield_aus(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 08-Jul-2017 23:27:50.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 93xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93];
x1_step2.xoffset = [536;536;535;536;536;536;536;536;535;535;535;535;535;535;535;535;535;535;537;536;536;536;535;535;535;535;536;535;534;533;533;532;531;530;529;529;528;527;527;526;526;525;525;525;525;525;526;525;526;525;525;525;525;524;526;524;523;522;521;521;524;523;522;524;522;520;519;518;518;518;521;520;519;528;524;520;519;518;517;517;519;519;517;520;517;517;516;516;515;515;515];
x1_step2.gain = [0.0476190476190476;0.0540540540540541;0.0555555555555556;0.04;0.0425531914893617;0.0444444444444444;0.028169014084507;0.0294117647058824;0.0303030303030303;0.0307692307692308;0.0298507462686567;0.03125;0.032258064516129;0.0327868852459016;0.0333333333333333;0.0338983050847458;0.0344827586206897;0.0350877192982456;0.037037037037037;0.037037037037037;0.0298507462686567;0.0317460317460317;0.0327868852459016;0.032258064516129;0.0344827586206897;0.0363636363636364;0.04;0.0416666666666667;0.0434782608695652;0.032258064516129;0.0303030303030303;0.0317460317460317;0.0327868852459016;0.032258064516129;0.0256410256410256;0.027027027027027;0.0277777777777778;0.0289855072463768;0.0307692307692308;0.032258064516129;0.027027027027027;0.028169014084507;0.0298507462686567;0.0235294117647059;0.0246913580246914;0.025974025974026;0.0273972602739726;0.0289855072463768;0.0307692307692308;0.0222222222222222;0.0232558139534884;0.024390243902439;0.0256410256410256;0.0266666666666667;0.0204081632653061;0.0208333333333333;0.0217391304347826;0.0224719101123596;0.0232558139534884;0.0176991150442478;0.0188679245283019;0.0196078431372549;0.0204081632653061;0.0202020202020202;0.0206185567010309;0.0212765957446809;0.0206185567010309;0.021505376344086;0.0208333333333333;0.0172413793103448;0.018348623853211;0.019047619047619;0.0172413793103448;0.0192307692307692;0.0192307692307692;0.0194174757281553;0.0202020202020202;0.0172413793103448;0.0178571428571429;0.018348623853211;0.0194174757281553;0.02;0.0155038759689922;0.0165289256198347;0.0169491525423729;0.0176991150442478;0.018348623853211;0.018348623853211;0.0169491525423729;0.0176991150442478;0.0163934426229508];
x1_step2.ymin = -1;

% Layer 1
b1 = [1.5261585597889709;-1.3077285159437348;-0.76232689768087758;0.50536472197295612;-0.31068591843915944;0.31363763636931596;-0.44000865916180504;0.91190203926333724;1.3515419926336314;-1.3669201613701318];
IW1_1 = [-0.10647220304327326 0.11397377799957936 -0.17029178644867407 0.059825058122572973 -0.088581823009190014 -0.16091721148273427 -0.19721884861685984 -0.039015149137361968 0.27087085525559279 0.08588156979897818 0.22705767972273722 -0.019647888904848913 -0.066168229504764892 0.20399161224668536 0.13073028267630799 0.11502060620120809 -0.023296631095105904 -0.061861853130716606 0.15101104249236047 0.085314632364405091 0.023063923961230085 -0.12390496069632928 -0.15468800789191359 -0.029166020779045194 -0.070245671649872443 0.25812895021086613 -0.037622166500981838 0.060179309586195169 0.061311826624409899 -0.13019331856092078 -0.036848705211441193 0.14989978768962864 0.011240128125010398 -0.22721705053404251 -0.24561325736696868 -0.038959721760325236 -0.20364838500929605 0.13844610342938318 -0.028937903755050669 -0.19516511208394025 0.10589457209891288 0.15163388527945065 0.18833923708277572 0.086872750334924823 -0.073956858441930215 -0.13732736275828336 0.23883325271453759 -0.10236786113080071 -0.1699453052119618 0.26204815504985324 0.23371194177395876 0.22337407258668504 0.24992841645910421 -0.064595256923324365 -0.011485990524097725 0.013612520738931011 0.26988030308857769 -0.13851617275221031 -0.15251325805471924 0.20081760831653794 -0.14425344245049082 0.080139356863934266 -0.04370766497205851 -0.071749743431394508 0.084532245788082994 0.16466206585750823 -0.12508000911585906 -0.13613353633675998 0.2104338920824966 -0.1267218651060858 0.15402907420466841 0.080929321031570009 -0.22611039388349705 0.25002321340441125 0.20753734224821954 -0.22169966556254478 -0.10097569673853674 -0.068121501944047202 0.22461366891075224 0.040515415242032275 -0.095003100959585057 0.15008948990113682 0.22197093475582666 -0.069194671398097388 -0.16669707439078019 -0.20783145670355055 -0.17878882945159694 -0.1589060386667337 -0.031093500734145168 0.12618598098866488 -0.32330341053485545;0.19948183681303186 -0.13351177590138519 -0.14455469511127231 -0.010502686241219117 0.23247429750322879 -0.1041502793855768 -0.20916368256654769 0.26428321487191075 -0.18862045105499278 0.14561087154383212 -0.19339651449164619 -0.26931109916464424 -0.066401513837495887 0.14363976392840494 0.014169718726677846 0.065703696693949695 0.056886218752050126 -0.11509848383987394 -0.060113253565034844 0.063680682118613413 -0.13233200525257394 0.019644421538860452 -0.18197687048616665 0.078057874046139342 -0.2202840735882895 0.15686593897347939 -0.18378945525629647 -0.067898236209657195 -0.026361800541756682 0.11085606674428504 -0.095578334157065764 -0.036665429232012492 -0.069258099653467478 0.15872876229963107 0.17640235048149064 0.0042593906960332849 0.0099358934804791767 -0.13088241091615826 -0.15321209699123878 0.047389598657287646 -0.25189724831775129 0.051202330757432281 0.15709966404709511 0.20141871962351124 -0.082756120601614136 0.047889080109091507 0.076256060778027768 -0.077930830948280544 -0.15893911668096733 -0.19938517673083922 -0.17780868175917985 0.10809387542338612 -0.19403361763000021 -0.16515387930181524 -0.012128919405122106 -0.032261416984535857 -0.2476042315754266 0.13375696260793529 0.024433910866237064 0.049248478505114227 0.068517058741290257 -0.12060191995692085 -0.035674523032569731 0.12413147995906464 0.3308021937719241 -0.10681629316070451 0.21514720736666854 0.083714485171704489 0.037526307511295987 -0.046385673257522041 -0.098492621861594687 0.10569495854578581 0.18254915066186997 -0.15448021701911094 -0.14150361739665607 -0.048361818380341835 -0.11542927921805494 -0.098433817740000012 0.2668068492382914 0.00084338780086643309 -0.21722879137554557 -0.35585960881921247 0.0908127548488461 0.12987131907267152 0.12055252267528614 0.090392859413581869 -0.22565601286912718 0.016415513801828385 0.13250837436570048 0.26759353622020271 -0.18167361383402647;0.030927464455571447 -0.14031687133928508 0.13943390599547309 0.17630959781892822 0.035148080088980085 0.088825372838764405 0.052040272542219275 -0.19629774831402783 -0.04106590250438677 -0.11526494387151871 -0.074842031445248244 -0.22329835907784623 -0.21368194671724494 -0.13580996867026085 0.20330239368811034 0.18496797739914608 -0.062642720891111545 -0.048681360937779368 0.13856868049618354 0.26074343126115634 -0.048917892335029155 0.04118792506907612 0.14332982559980226 -0.06689872678620111 0.18292266427610596 -0.1036659376979843 0.20040422149523984 -0.079624016445255144 -0.16077194241391807 -0.21888168368725469 0.18758737727398136 -0.10330896450801863 0.12878569960636838 -0.24129685610866469 0.17585156325231485 0.081437388477328981 -0.13021544682688813 -0.050329738668387962 0.14699347622606163 -0.11426919651556042 0.17529158977814685 0.050079902611269225 0.067348410795296229 -0.078194689898406403 -0.12397498912719127 0.021907514393165097 0.14131669611045694 -0.11731825154073808 0.050839313796067369 -0.24673361164264429 0.29927577626709873 0.094461332075192625 0.28211395003451872 -0.017091848541428412 -0.030111945314321469 -0.0062541569361018786 -0.10582029278241827 0.17983490076610342 0.19583009733711063 -0.049385047208283295 0.039408161422314972 -0.21766570714861383 -0.23232263411187484 0.10351825910357368 -0.31602854285434173 -0.23695281442463687 0.024513015146570834 0.21465747645173569 0.16372870496686703 0.14346183057512304 -0.01735956388286862 -0.31184429781326745 0.21400501116714907 0.043249316524575435 0.13765991070523503 -0.071562065269899403 0.16297064733413721 0.015720954927313145 0.083902066556802921 -0.3192029047270718 -0.030408221862213924 0.0048282960327443586 -0.058203693634955631 -0.19876352730150859 0.17483640196540848 -0.050965429795819368 -0.016457670516365985 -0.29458105104310461 0.15519842273339307 0.057058174361307536 -0.32698472990695437;-0.088492331392428597 0.21226970306446916 -0.11468822825283466 0.1796963558190264 0.099523301787250176 0.24813253910555508 -0.10914063868571973 -0.19703126452944258 -0.02416045500183335 -0.082360567401742441 0.071982510259108207 0.29813020295339804 0.19295736806380986 0.16717042454537848 0.15235303959445937 0.1420590680043585 -0.14510195792409264 -0.20610512958486862 0.15862475291848491 0.11575499019655811 -0.20856189006526274 0.059347560359177591 -0.020423142911628406 0.044820438162000188 0.06369142083995194 0.17972592771792489 -0.20244867115274659 0.16157370507119556 -0.15177764240301364 -0.090106724509214725 -0.19004393464078034 -0.022775794669180519 0.03378149352249827 -0.014634888053147667 -0.063543140415445454 -0.20384269001395466 -0.16063493792099426 -0.0080097303495152861 -0.0012432813843056361 -0.10144366504231604 -0.18778975857223076 -0.0077068320445011929 0.27611742082532342 -0.085202451586100098 -0.14833236818142642 -0.1040250610596119 0.10414993965950761 0.12168429863743126 0.076047150275419126 -0.025583410205086629 -0.097382301880120675 0.20547475823994688 0.047856386321424076 -0.13565586422914472 -0.15848411633545659 -0.13060410538112857 0.20200845293174927 -0.14745517032929129 0.075877290765182376 -0.17652359142665303 0.20246990742088503 -0.11658922094616274 0.084081715694731926 -0.015842745397130095 -0.073479970619511226 -0.18218038769081296 0.011419177076349133 -0.18056896098802419 0.12778392948903222 -0.18725837977800328 -0.1626998434822553 -0.058771592477130062 0.16593461780725788 0.17323665860632281 0.076920814384086239 0.10274214524458754 0.20194951293259256 0.043962497572287554 0.27063058062013501 0.22703000972085755 -0.069027484243060794 0.20836597706106166 0.18644655083815848 0.2574061833464058 -0.098250128040062806 0.17539737337835426 0.15506441615452315 0.25728034653175702 -0.19656631353384285 -0.0048274441023658304 -0.2770027695426916;0.1073447361976578 0.067917636884542901 0.22364667190079601 0.0098345544140110777 0.065507931114762746 -0.13818202896818971 -0.10089139961064107 -0.0077814082085983852 -0.084995108770804392 0.10470098387299814 -0.10939738047276663 -0.14581156712569157 0.10668617863991826 -0.30319234137282575 -0.22257046792561758 -0.22885325453315172 -0.10794771145517407 0.052845214433282287 -0.15537118687178841 -0.31754840010361429 0.055862796749017549 -0.25941418268569016 -0.03353293531143807 0.0011480723660445161 0.11835513259030596 0.042308993069993646 0.0074837498578245506 -0.17165170169786967 -0.16604492909986865 -0.11549133922656724 -0.15721592663120429 -0.020383464643460428 -0.093316910620746651 0.030054139307043114 0.14561024793226529 0.12753510849706096 -0.046888408898462651 0.070978841602208007 0.14804943328825337 0.20521352418762273 0.12222052544255242 -0.12375358767817723 -0.13523047373733679 0.06467525939015159 0.30869439585067404 -0.095878734409302918 -0.10600906641244436 -0.05106023831727665 0.037772127888803672 -0.16041440529710638 0.094054450448111254 -0.11382290395352861 0.16062213715734897 -0.087388521650064679 -0.0032385036174918127 -0.13770869607386477 -0.28471403183027583 0.22238698348440808 0.13626735988021482 -0.11285606637358959 0.11914036301177933 0.29430657694299961 0.029111737504251382 0.17203929899326625 0.081768802069156751 -0.016256273692253145 0.16160913293599219 0.1974056465149196 -0.14800236763350538 0.21971453377121455 0.11365781093702702 0.23725156385730739 0.12251169874978984 -0.16986569893876324 -0.26317368808279573 0.010743044613406942 -0.17304725827571948 -0.073238827181666799 0.14697138505055946 0.11371162472879913 0.077941958627958052 0.26897766680656543 -0.15717461514260789 -0.10707779251066968 -0.20712730322000081 0.0070603320371139498 0.11295926102807573 0.059888033717275989 0.10775030581456876 0.11940845456313968 -0.048602599920246368;0.13986615200888314 0.1565382639402173 0.05685264305720257 0.0086705625013739317 -0.22652886240305262 -0.12345932511132394 0.056532577827000809 -0.033398658632679185 0.37798483142985062 0.016059896936237186 -0.1852131623798727 0.052106798055589529 0.00018259603824547467 0.16864785218988582 -0.11107753283070668 0.1550443425630377 -0.17398718495185064 -0.24025328842152766 -0.28751818125392536 -0.21151076255357928 -0.19588182395429982 -0.14812530472427268 -0.05994173315677595 0.19169254247582307 0.043357292362169376 -0.019285077780231731 -0.1045861174051103 0.081966912099739692 -0.071300498630538889 -0.22866259515980733 -0.015915138432412587 0.27242763116305158 0.32134886116753514 -0.043536264124586971 0.039195278068427805 0.022021995840367806 -0.0079828205731282773 0.058382179157289778 0.00704615394658037 0.12016569655939614 0.066800374762910897 -0.10562246296215383 -0.011687223900761681 -0.024798981373288558 -0.11932602953190655 -0.26129243632648458 0.099591360060635709 -0.15991546362013159 0.011912350916125539 0.040912010183289972 -0.068816189899435345 0.0038034216429410892 -0.079113215620038244 0.12074764730912663 -0.27538046937758903 -0.031828975172321937 0.26820204361939998 -0.20710510277020064 0.25518461275922033 -0.097858898936881183 0.075376270077924315 -0.1439704075247655 0.1619118317007682 0.0158979700691191 0.025635772718070909 0.12042673007010708 0.08980123474586145 0.24506208761121062 -0.035861240138852418 0.17044730634924771 -0.29625816152343248 -0.35925332915682801 0.10481012403010823 -0.026060031851806397 -0.071163435689604176 0.25407125512972772 -0.091108658698996398 0.029875797490256244 -0.10664445336557568 -0.1837240522747364 0.11943726639373101 0.099678910956082278 0.20129352205572862 -0.1536199765161681 -0.075618286329372161 0.2696006795627206 0.22774388321444952 -0.2680352596739829 0.097405493866751153 0.021758774405920982 -0.19692453797407392;-0.22926004941671127 0.0023989985330240804 0.17373423762302934 0.052037796787095109 0.22961946644041567 -0.12491138039589021 0.19578241363306653 0.076102281349092221 -0.25531845515880525 -0.13958666063434758 0.010574749867881794 0.023231962354156324 0.14473843691585728 0.16465465726583775 0.12124638094996451 -0.097014842976881246 -0.060384559497526191 -0.12709901292836853 0.25420356731850341 -0.081569958596852205 0.16743721753598864 0.10371218006360965 0.1840796818931896 0.017035648997167724 -0.15877981317402426 -0.029560739332251219 0.14044563046726113 -0.19137600394023568 -0.24128415069193676 -0.023163358373249711 -0.077271649429774408 -0.21154471796820121 -0.019484788005405065 -0.052569580878169445 -0.18930199352342048 0.0019433625115017892 0.019737161276257572 0.11358862261520443 0.15156602656252421 0.15604076077642767 0.11590735082265867 -0.055572637843303241 0.20027193512172481 0.18332682870177619 -0.29638080569938857 -0.27953735853705464 0.048987642492417084 0.0091778357113817318 0.19047787132910243 0.091195500167049193 -0.0022618714482616695 -0.11430548091836373 -0.089055092853487727 0.12128303822447806 -0.088005633932436822 0.082475142469582458 -0.028376371733548993 0.19988161136767932 0.041431394178604648 -0.19875315106557889 0.012439747667290621 0.04097469264396475 -0.26795711177115011 -0.29595910356185567 -0.044780055430574506 0.13380609928654802 0.058868110373270534 0.19845598451378896 0.13465583239554951 0.13900111550317623 0.13228380331030531 0.16885581239047948 0.12770942617698736 0.21107851251990059 0.14911364340003527 0.16167340290587698 0.19159272578088865 -0.22216855174631708 -0.19539392395117874 -0.054534732646826442 -0.068734395662620143 -0.24677786071549992 0.06508849466283069 -0.15358777037134763 -0.26427690240143809 -0.22000141375963969 -0.13988591792119381 -0.16711081392794272 -0.030309046085927813 -0.19385672837005616 0.024298318520200646;0.017921875527511493 0.048019022522697893 -0.21912760871286113 -0.096901251547079625 -0.16329920725663905 -0.096839763545517252 0.25813404793507372 0.14182932084108327 0.023092994272946317 0.15319728890224363 0.076093487973337565 -0.12331103459690623 -0.13770895144233797 0.11562565702949666 -0.24889064620128751 -0.22583831365862678 0.20643597038984879 -0.25150011984634058 -0.12304782108363331 -0.12583068275170833 -0.26586733147757763 -0.20068773967065662 -0.06697186950181766 -0.08811415637090439 0.20819576055328032 -0.18381770374761772 0.07679556823268463 -0.17794146650036302 -0.033913990027816289 0.045808609694698944 -0.26842051160502034 -0.044034649612023094 -0.16236506291840533 -0.026742394428355389 0.0050353335594174615 -0.09670445752882581 -0.065905719339184418 -0.24183115602538827 -0.14661784363875674 0.06442003251041338 -0.21540653451762917 -0.10878398406580894 -0.14093687368372018 -0.10023282199160374 -0.04093795924153832 -0.30560204096854909 0.079475721498138654 0.077472717483891812 -0.0067926505264173263 -0.0028116915746817721 -0.023234843553554894 0.29830657364620294 -0.20143587394216617 -0.025215734294852684 0.26757896107292717 0.15053101047050901 -0.12577958661447206 0.057794527802377753 -0.13733274103526413 0.17432511924242935 0.22746921572941856 0.29874170649992549 0.22650512376537207 0.18028091783096029 -0.055436387062925932 -0.081605486769940741 -0.074026440252235814 0.27939865578184192 -0.2015271894698179 0.20939041103363276 -0.11825915663515278 0.067074580003104234 0.25982086500849105 0.0096528518837603779 0.22904119972084561 0.24900149212264691 0.0089299589980530586 0.081772153296748876 -0.19272293131980378 -0.13326272606293155 0.18375876676863473 0.17074121182122429 -0.052631202311671975 0.29868992770725822 -0.0087978502001973755 0.17648977361450546 0.18325445838305468 0.16433899499571578 -0.17693272365845369 -0.11172250315671042 -0.14271865090557836;-0.0023799050714084649 0.070058954763633954 0.014767717854233361 0.21680909776083085 0.11121313144979218 -0.018882419472389694 -0.2120924274742495 0.15345833514338186 0.013788278759134258 -0.1121617682919081 0.11627383472195504 -0.039074918231195209 -0.053299779829426089 -0.019695148123527073 0.061152075174659953 0.29428406059937173 -0.20532846494649681 -0.11423639762025503 -0.15078294877270765 -0.055204260398656384 -0.025132071577273735 0.16844066023646057 0.00061553011719374861 0.077322215216775084 -0.044029342170753896 -0.20157172853497737 0.12364037929849718 0.24122265353818345 0.0010847619020914461 -0.044194264258595857 -0.17344414071846467 0.24977157526640603 -0.19932943715686996 0.15293296368742612 -0.16743573987918905 0.33028024763482994 -0.11489316241656776 0.20747989270689218 0.10621241074608399 0.015190945552239144 -0.10192427332111835 0.051431497255877479 0.016798586262652175 0.14496992443891196 0.11285098697829529 -0.084705461867657997 -0.16185277575045623 0.26281881471843277 0.28019842405841366 -0.11325988442371376 0.042713703609628846 0.091547735378235282 0.097521310300533376 0.027089654019773833 0.245428163354452 -0.20488310721063432 0.18680838485688581 0.21944197253887229 -0.072790726324114263 -0.097412392594762615 -0.14951434512361247 0.12545243313384219 0.18275364540569133 0.14718735586266257 0.31421858206999659 0.28822894176234082 -0.10487186862465037 0.012106622044615812 -0.016687772115392609 -0.13535290071233982 0.19343052190337459 0.058343659328715256 -0.1803557978850544 0.014437526126400821 0.087197327718873771 -0.019023129854293577 -0.0079719553574882224 -0.10424237638329695 0.11811066168764275 -0.025568837139196863 0.10318038709206663 -0.031778867636179327 -0.013811064721210379 0.11945554592510362 -0.012710548657617678 0.36940921920250408 -0.036950753266711732 0.17472563590826867 0.13585428290652113 0.04721135377226008 -0.36280774585010073;-0.23531884762630137 -0.28005417362230028 -0.25740410745793874 0.07125993048462767 0.16203245184483564 -0.34612719095639932 0.26165291376254668 -0.27384301637961422 0.029447867085061349 -0.027858234107893075 -0.014977233529588227 -0.050104079902679281 0.076360578340580035 -0.12049597204247377 0.02057174675239376 -0.12512502260194194 -0.005729664791238878 -0.084579524756353774 -0.20344040630959939 0.012709744660619726 -0.19150168806906434 -0.32084083409582587 0.29174634156301621 0.19849657725501946 0.22967941818787216 -0.1228209366333262 0.21005985750908229 0.052270822719840009 -0.068452577476836071 0.25926037093878579 -0.078306855657064453 0.038957970473295148 -0.21038929060057704 0.2349257937098396 0.11834253964453714 0.012331158259806628 0.16372818752104581 0.024315052845257729 -0.17603240266126507 -0.050622014953099398 0.03289873534029325 -0.16815125459603406 0.16270896838428708 -0.063120438179250588 -0.0033589271951346114 0.20728011919958486 -0.24212318575512273 0.078469924997503715 -0.22603498176178985 0.026103188221393916 0.19301555108832014 0.29379770348374118 -0.15840598301685471 -0.23704997500419675 -0.13002653406059639 0.14715605103412924 0.033180924847445392 -0.21386800744143264 0.050287068584979978 0.32191223081562109 0.08448380058719665 -0.035169411514603309 0.18137075140279921 -0.26388392888618617 -0.17206126738872266 -0.063042938426778355 -0.038830575520034806 0.040345264566279834 0.0080753522386836085 -0.17195287092789743 0.034686565051678532 -0.25296807038456143 0.12400544058914376 0.21691177990095281 0.17147808717750171 -0.18810634931045644 -0.040925812174450169 -0.10355694769455215 0.031328334401055549 -0.083706491244151457 -0.18516273733208019 0.16467319341845577 -0.024046278398808331 0.22459009686469489 0.10274071079071206 0.086407230626885739 0.013979837462832267 -0.02925213292709861 0.062132776792234119 0.024313258270437881 -0.20179393570746154];

% Layer 2
b2 = -0.24557079259690864;
LW2_1 = [-0.36817455509680336 -0.94632508064180121 0.58282533617326227 -0.011767849826851629 -0.3856542313874804 0.45067592758989661 0.1197677746812514 0.45213564823995039 0.88175839449015636 0.43410823809989785];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.000280386933968877;
y1_step1.xoffset = 3410;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
